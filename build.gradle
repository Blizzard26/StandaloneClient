apply plugin: 'java';
apply plugin: 'eclipse';
apply plugin: 'findbugs';
apply plugin: 'pmd';
apply plugin: 'jacoco';

def javaHome = System.properties['java.home']

sourceCompatibility = 1.7

repositories {
   mavenCentral()
}


dependencies {
   compile files("$javaHome/lib/jfxrt.jar")
   compile 'com.google.guava:guava:17.0'
   compile 'commons-io:commons-io:2.4'
   compile 'joda-time:joda-time:2.3'

   testCompile 'junit:junit-dep:4.11' 
   testCompile 'org.hamcrest:hamcrest-core:1.3'
   testCompile 'org.hamcrest:hamcrest-library:1.3'
   testCompile 'org.mockito:mockito-all:1.9.5'
}

jar {
   from { configurations.compile.findAll { !it.name.contains("jfxrt.jar") } collect { it.isDirectory() ? it : zipTree(it) } }
   manifest.attributes("Main-Class":"org.stt.StartWithJFX")
}

tasks.withType(FindBugs) {
    reports {
        xml.enabled = false
        html.enabled = true
    }
 }
